(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[33],{NvKF:function(e,t,a){e.exports={tableList:"antd-pro-pages-taoke-category-list-tableList",tableListOperator:"antd-pro-pages-taoke-category-list-tableListOperator",standardList:"antd-pro-pages-taoke-category-list-standardList",headerInfo:"antd-pro-pages-taoke-category-list-headerInfo",listContent:"antd-pro-pages-taoke-category-list-listContent",listContentItem:"antd-pro-pages-taoke-category-list-listContentItem",extraContentSearch:"antd-pro-pages-taoke-category-list-extraContentSearch",listCard:"antd-pro-pages-taoke-category-list-listCard",standardListForm:"antd-pro-pages-taoke-category-list-standardListForm",formResult:"antd-pro-pages-taoke-category-list-formResult"}},nwtL:function(e,t,a){"use strict";var l=a("4Gf+"),r=a("GyWo");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("U7p0");var n=l(a("pXLU"));a("t0lF");var d=l(a("kDCt"));a("Ljnx");var u=l(a("EfNK"));a("Odsp");var o=l(a("0LJ2"));a("YvrW");var s=l(a("uG6z")),i=l(a("RSNA"));a("baa/");var c=l(a("6wzi"));a("BrD1");var f=l(a("SpN2"));a("K1xq");var m=l(a("lmRu"));a("ZkGU");var p=l(a("zOAu")),y=l(a("OjS7"));a("I9VT");var E=l(a("OsYg"));a("mXkF");var g=l(a("J7Y1"));a("3wa/");var h=l(a("lJUX")),k=l(a("jx1L")),v=l(a("pvd2")),b=l(a("RPUv")),w=l(a("1KPh")),S=l(a("ZA+g"));a("9RKC");var C=l(a("6RLy"));a("1EyM");var L=l(a("VEhp"));a("VfK5");var x=l(a("LcI5"));a("K5T9");var R,I,N,U=l(a("xn9m")),O=r(a("4G06")),F=a("LneV"),V=l(a("zHco")),K=l(a("CkN6")),M=a("+n12"),q=l(a("NvKF")),D=U.default.Item,T=x.default.Group,j=L.default.Search,z=C.default.Option,B=(R=(0,F.connect)(function(e){var t=e.api,a=e.loading;return{api:t,loading:a.models.api}}),I=U.default.create(),R(N=I(N=function(e){function t(){var e,a;(0,k.default)(this,t);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return a=(0,b.default)(this,(e=(0,w.default)(t)).call.apply(e,[this].concat(r))),a.state={visible:!1,selectedRows:[],isEdit:!1,current:{},uploading:!1,search:{},params:{orderBy:"id",sortedBy:"desc",search:""}},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.columns=[{title:"\u5206\u7c7b\u540d",render:function(e){return O.default.createElement(O.Fragment,null,O.default.createElement(h.default,{size:"small",shape:"square",style:{marginRight:"5px"},src:e.logo}),O.default.createElement("span",null,e.name))}},{title:"\u6392\u5e8f",dataIndex:"sort",sorter:!0,align:"left"},{title:"\u72b6\u6001",dataIndex:"status",align:"left",filters:[{text:"\u6b63\u5e38",value:1},{text:"\u7981\u7528",value:0}],filterMultiple:!1,render:function(e){return 1===e?O.default.createElement(g.default,{color:"#87d068"},"\u6b63\u5e38"):O.default.createElement(g.default,{color:"#f50"},"\u7981\u7528")}},{title:"\u64cd\u4f5c",render:function(e,t){return O.default.createElement(O.Fragment,null,O.default.createElement("a",{onClick:function(e){e.preventDefault(),a.showEditModal(t)}},"\u7f16\u8f91"),O.default.createElement(E.default,{type:"vertical"}),O.default.createElement("a",{style:{color:"#c92c2c"},onClick:function(e){e.preventDefault(),a.deleteItem(t)}},"\u5220\u9664"))}}],a.showModal=function(){a.setState({visible:!0,current:void 0,isEdit:!1,imageUrl:void 0})},a.showEditModal=function(e){a.setState({visible:!0,current:e,imageUrl:e.logo,isEdit:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleSubmit=function(e){e.preventDefault();var t=a.props,l=t.dispatch,r=t.form,n=a.state,d=n.current,u=n.imageUrl,o=d?d.id:void 0;a.setState({visible:!1}),r.setFieldsValue({logo:u}),r.validateFields(function(e,t){e||l({type:"api/submit",payload:{apiname:"taoke/category",id:o,params:(0,y.default)({},t)},callback:function(e){return 1001===e.code?p.default.success(e.message):p.default.error(e.message)}})})},a.deleteItem=function(e){var t=a.props.dispatch;m.default.confirm({title:"Do you want to delete these items?",content:"When clicked the OK button, this dialog will be closed after 1 second",onOk:function(){t({type:"api/submit",payload:{apiname:"taoke/category",id:e.id},callback:function(e){return 1001===e.code?p.default.success(e.message):p.default.error(e.message)}})}})},a.onSearch=function(e){var t=a.props.dispatch,l=a.state,r=l.search,n=l.params,d=(0,y.default)({},r,{name:e}),u=(0,y.default)({},n,{search:(0,M.getSearchParams)(d)});t({type:"api/fetch",payload:{apiname:"taoke/category",params:u}})},a.beforeUpload=function(e){var t="image/jpeg"===e.type;t||p.default.error("You can only upload JPG file!");var a=e.size/1024/1024<2;return a||p.default.error("Image must smaller than 2MB!"),t&&a},a.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&a.setState({imageUrl:e.fileList[0].response.data.url,uploading:!1}):a.setState({uploading:!0})},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.handleStandardTableChange=function(e,t,l){var r=a.props.dispatch,n=a.state,d=n.search,u=n.params,o=(0,y.default)({},u,{page:e.current,limit:e.pageSize,searchJoin:"or"}),s=(0,y.default)({},d),i=l.field,c=l.order;void 0!==i&&void 0!==c&&(o=(0,y.default)({},o,{orderBy:i,sortedBy:"descend"===c?"desc":"asc"}));var f=t.type,m=t.status;void 0!==f&&(s=(0,y.default)({},s,{type:f[0]})),void 0!==m&&(s=(0,y.default)({},s,{status:m[0]})),o=(0,y.default)({},o,{search:(0,M.getSearchParams)(s)}),a.setState({params:o,search:s}),r({type:"api/fetch",payload:{apiname:"taoke/category",params:o}})},a}return(0,S.default)(t,e),(0,v.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=this.state.params;e({type:"api/fetch",payload:{apiname:"taoke/category",params:t}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.api,l=t.loading,r=this.props.form.getFieldDecorator,p=this.state,y=p.selectedRows,E=p.visible,g=p.isEdit,h=p.current,k=void 0===h?{}:h,v=O.default.createElement(f.default,{onClick:this.handleMenuClick,selectedKeys:[]},O.default.createElement(f.default.Item,{key:"remove"},"\u5220\u9664"),O.default.createElement(f.default.Item,{key:"approval"},"\u6279\u91cf\u5ba1\u6279")),b={okText:"\u63d0\u4ea4",onOk:this.handleSubmit,onCancel:this.handleCancel},w=O.default.createElement("div",null,O.default.createElement(j,{className:q.default.extraContentSearch,placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u641c\u7d22",onSearch:this.onSearch})),S=function(){var t=e.state,a=t.imageUrl,l=t.uploading,n=O.default.createElement("div",null,O.default.createElement(c.default,{type:l?"loading":"plus"}),O.default.createElement("div",{className:"ant-upload-text"},"\u4e0a\u4f20"));return O.default.createElement(U.default,{onSubmit:e.handleSubmit},O.default.createElement(D,(0,i.default)({label:"\u5206\u7c7b\u540d"},e.formLayout),r("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d"}],initialValue:k.name})(O.default.createElement(L.default,{placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d"}))),O.default.createElement(D,(0,i.default)({label:"\u6dd8\u5b9d\u5206\u7c7b"},e.formLayout),r("taobao",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u63cf\u8ff0"}],initialValue:k.taobao})(O.default.createElement(C.default,{style:{width:"100%"}},O.default.createElement(z,{key:1},"\u5973\u88c5"),O.default.createElement(z,{key:2},"\u7537\u88c5"),O.default.createElement(z,{key:3},"\u5185\u8863"),O.default.createElement(z,{key:4},"\u7f8e\u5986"),O.default.createElement(z,{key:5},"\u914d\u9970"),O.default.createElement(z,{key:6},"\u978b\u5305"),O.default.createElement(z,{key:7},"\u7bb1\u5305"),O.default.createElement(z,{key:8},"\u513f\u7ae5"),O.default.createElement(z,{key:9},"\u6bcd\u5a74"),O.default.createElement(z,{key:10},"\u5c45\u5bb6"),O.default.createElement(z,{key:11},"\u7f8e\u98df"),O.default.createElement(z,{key:12},"\u6570\u7801"),O.default.createElement(z,{key:13},"\u5bb6\u7535"),O.default.createElement(z,{key:14},"\u5176\u4ed6"),O.default.createElement(z,{key:15},"\u8f66\u54c1"),O.default.createElement(z,{key:16},"\u6587\u4f53")))),O.default.createElement(D,(0,i.default)({label:"\u4eac\u4e1c\u5206\u7c7b"},e.formLayout),r("jingdong",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u63cf\u8ff0"}],initialValue:k.jingdong})(O.default.createElement(C.default,{style:{width:"100%"}},O.default.createElement(z,{key:1},"\u5973\u88c5"),O.default.createElement(z,{key:2},"\u7537\u88c5"),O.default.createElement(z,{key:3},"\u5185\u8863\u914d\u9970"),O.default.createElement(z,{key:4},"\u6bcd\u5a74\u73a9\u5177"),O.default.createElement(z,{key:5},"\u7f8e\u5986\u4e2a\u62a4"),O.default.createElement(z,{key:6},"\u98df\u54c1\u4fdd\u5065"),O.default.createElement(z,{key:7},"\u5c45\u5bb6\u751f\u6d3b"),O.default.createElement(z,{key:8},"\u978b\u54c1\u7bb1\u5305"),O.default.createElement(z,{key:9},"\u8fd0\u52a8\u6237\u5916"),O.default.createElement(z,{key:10},"\u6587\u4f53\u8f66\u54c1"),O.default.createElement(z,{key:11},"\u6570\u7801\u5bb6\u7535"),O.default.createElement(z,{key:12},"\u6570\u7801"),O.default.createElement(z,{key:13},"\u52a0\u70b9"),O.default.createElement(z,{key:15},"\u8f66\u54c1"),O.default.createElement(z,{key:16},"\u6587\u4f53"),O.default.createElement(z,{key:14},"\u5176\u4ed6")))),O.default.createElement(D,(0,i.default)({label:"\u62fc\u591a\u591a\u5206\u7c7b"},e.formLayout),r("pinduoduo",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u63cf\u8ff0"}],initialValue:k.pinduoduo})(O.default.createElement(C.default,{style:{width:"100%"}},O.default.createElement(z,{key:1},"\u5973\u88c5"),O.default.createElement(z,{key:2},"\u7537\u88c5"),O.default.createElement(z,{key:3},"\u5185\u8863"),O.default.createElement(z,{key:4},"\u7f8e\u5986"),O.default.createElement(z,{key:5},"\u914d\u9970"),O.default.createElement(z,{key:6},"\u978b\u5305"),O.default.createElement(z,{key:7},"\u7bb1\u5305"),O.default.createElement(z,{key:8},"\u513f\u7ae5"),O.default.createElement(z,{key:9},"\u6bcd\u5a74"),O.default.createElement(z,{key:10},"\u5c45\u5bb6"),O.default.createElement(z,{key:11},"\u7f8e\u98df"),O.default.createElement(z,{key:12},"\u6570\u7801"),O.default.createElement(z,{key:13},"\u52a0\u70b9"),O.default.createElement(z,{key:15},"\u8f66\u54c1"),O.default.createElement(z,{key:16},"\u6587\u4f53"),O.default.createElement(z,{key:14},"\u5176\u4ed6")))),O.default.createElement(D,(0,i.default)({label:"\u6392\u5e8f"},e.formLayout),r("sort",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u6392\u5e8f"}],initialValue:k.sort?k.sort:100})(O.default.createElement(s.default,{min:1,max:1e5}))),O.default.createElement(D,(0,i.default)({label:"\u72b6\u6001"},e.formLayout),r("status",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u56fe\u7247\u72b6\u6001"}],initialValue:k.status?k.status:1})(O.default.createElement(T,{name:"status"},O.default.createElement(x.default,{value:1},"\u663e\u793a"),O.default.createElement(x.default,{value:0},"\u9690\u85cf")))),O.default.createElement(D,(0,i.default)({label:"\u56fe\u6807"},e.formLayout),r("logo",{rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u5206\u7c7b\u56fe\u6807"}],initialValue:k.logo})(O.default.createElement(o.default,{name:"file",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"//lv5.vaiwan.com:8081/api/admin/image/file/upload",beforeUpload:e.beforeUpload,onChange:e.handleChange},a?O.default.createElement("img",{src:a,alt:"avatar",style:{width:100,height:100},className:"thumb"}):n))))};return O.default.createElement(V.default,null,O.default.createElement("div",{className:q.default.standardList},O.default.createElement(n.default,{bordered:!1,title:"\u5206\u7c7b\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:w},O.default.createElement("div",{className:q.default.tableList},O.default.createElement("div",{className:q.default.tableListOperator},y.length>0&&O.default.createElement("span",null,O.default.createElement(u.default,null,"\u6279\u91cf\u64cd\u4f5c"),O.default.createElement(d.default,{overlay:v},O.default.createElement(u.default,null,"\u66f4\u591a\u64cd\u4f5c ",O.default.createElement(c.default,{type:"down"}))))),O.default.createElement(u.default,{type:"dashed",style:{width:"100%",marginBottom:8,marginTop:8},icon:"plus",onClick:this.showModal},"\u6dfb\u52a0"),O.default.createElement(K.default,{selectedRows:y,loading:l,data:a,rowKey:"id",columns:this.columns,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange})))),O.default.createElement(m.default,(0,i.default)({title:g?"\u7f16\u8f91\u5206\u7c7b":"\u6dfb\u52a0\u5206\u7c7b",className:q.default.standardListForm,width:640,bodyStyle:{padding:"28px 0 0"},destroyOnClose:!0,visible:E},b),S()))}}]),t}(O.PureComponent))||N)||N),G=B;t.default=G}}]);