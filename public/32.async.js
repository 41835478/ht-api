(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{"43Pb":function(e,t,a){e.exports={tableList:"antd-pro-pages-taoke-pid-list-tableList",tableListOperator:"antd-pro-pages-taoke-pid-list-tableListOperator",standardList:"antd-pro-pages-taoke-pid-list-standardList",headerInfo:"antd-pro-pages-taoke-pid-list-headerInfo",listContent:"antd-pro-pages-taoke-pid-list-listContent",listContentItem:"antd-pro-pages-taoke-pid-list-listContentItem",extraContentSearch:"antd-pro-pages-taoke-pid-list-extraContentSearch",listCard:"antd-pro-pages-taoke-pid-list-listCard",standardListForm:"antd-pro-pages-taoke-pid-list-standardListForm",formResult:"antd-pro-pages-taoke-pid-list-formResult"}},pOjp:function(e,t,a){"use strict";var l=a("4Gf+"),d=a("GyWo");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("t0lF");var n=l(a("kDCt"));a("baa/");var r=l(a("6wzi"));a("Ljnx");var s=l(a("EfNK"));a("U7p0");var u=l(a("pXLU")),i=l(a("RSNA"));a("BrD1");var o=l(a("SpN2")),c=l(a("OjS7"));a("ZkGU");var f=l(a("zOAu"));a("K1xq");var p=l(a("lmRu"));a("T7DU");var m=l(a("/72G"));a("X5VD");var h=l(a("bA53"));a("I9VT");var g=l(a("OsYg"));a("3wa/");var E=l(a("lJUX")),v=l(a("jx1L")),b=l(a("pvd2")),y=l(a("RPUv")),k=l(a("1KPh")),w=l(a("ZA+g"));a("1EyM");var C=l(a("VEhp"));a("VfK5");var S=l(a("LcI5"));a("K5T9");var x,L,R,I=l(a("xn9m")),N=d(a("4G06")),O=a("LneV"),j=l(a("CkN6")),T=l(a("zHco")),D=a("+n12"),V=l(a("43Pb")),B=I.default.Item,F=S.default.Button,M=S.default.Group,P=C.default.Search,A=C.default.TextArea,K=(x=(0,O.connect)(function(e){var t=e.api,a=e.loading;return{api:t,loading:a.models.api}}),L=I.default.create(),x(R=L(R=function(e){function t(){var e,a;(0,v.default)(this,t);for(var l=arguments.length,d=new Array(l),n=0;n<l;n++)d[n]=arguments[n];return a=(0,y.default)(this,(e=(0,k.default)(t)).call.apply(e,[this].concat(d))),a.state={selectedRows:[],visible:!1,isEdit:!1,search:{},params:{orderBy:"id",sortedBy:"desc",search:""}},a.formLayout={labelCol:{span:7},wrapperCol:{span:13}},a.columns=[{title:"\u521b\u5efa\u4eba",dataIndex:"user.name"},{title:"\u6240\u5c5e\u4f1a\u5458",dataIndex:"member",render:function(e){return"object"===typeof e&&Object.keys(e).length>0?N.default.createElement(N.Fragment,null,N.default.createElement(E.default,{size:"small",shape:"square",style:{marginRight:"5px"},src:e.headimgurl}),N.default.createElement("span",null,e.nickname)):"\u6682\u672a\u7ed1\u5b9a"}},{title:"\u6dfb\u52a0\u65f6\u95f4",dataIndex:"created_at",align:"left"},{title:"\u64cd\u4f5c",render:function(e,t){return N.default.createElement(N.Fragment,null,N.default.createElement("a",{onClick:function(e){e.preventDefault(),a.showEditModal(t)}},"\u7f16\u8f91"),N.default.createElement(g.default,{type:"vertical"}),N.default.createElement("a",{style:{color:"#c92c2c"},onClick:function(){return a.handleDelete(t)}},"\u5220\u9664"))}}],a.expandedRowRender=function(e){return N.default.createElement(N.Fragment,null,N.default.createElement(m.default,{gutter:24},N.default.createElement(h.default,{className:"gutter-row",span:8},N.default.createElement("p",{style:{margin:0}},"\u6dd8\u5b9d\uff1a",e.taobao)),N.default.createElement(h.default,{className:"gutter-row",span:8},N.default.createElement("p",{style:{margin:0}},"\u4eac\u4e1c\uff1a",e.jingdong)),N.default.createElement(h.default,{className:"gutter-row",span:8},N.default.createElement("p",{style:{margin:0}},"\u62fc\u591a\u591a\uff1a",e.pinduoduo))))},a.handleDelete=function(e){p.default.confirm({title:"\u5220\u9664",content:"\u63a8\u5e7f\u4f4d\u5220\u9664\u540e\u5c06\u4e0d\u80fd\u6062\u590d",okText:"\u5220\u9664",cancelText:"\u53d6\u6d88",onOk:function(){var t=a.props.dispatch;t({type:"api/submit",payload:{apiname:"taoke/pid",id:e.id},callback:function(e){return 1001===e.code?f.default.success(e.message):f.default.error(e.message)}})}})},a.handleStandardTableChange=function(e){var t=a.props.dispatch,l=a.state,d=l.search,n=l.params,r=(0,c.default)({},n,{page:e.current,limit:e.pageSize,searchJoin:"or"}),s=(0,c.default)({},d);r=(0,c.default)({},r,{search:(0,D.getSearchParams)(s)}),a.setState({params:r,search:d}),t({type:"api/fetch",payload:{apiname:"taoke/pid",params:r}})},a.handleMenuClick=function(e){var t=a.state.selectedRows;if(t)switch(e.key){case"remove":break;default:break}},a.handleSelectRows=function(e){a.setState({selectedRows:e})},a.filterStatus=function(e){var t=e.target.value,l=a.props.dispatch,d="";switch(t){case"all":break;case"progress":d="status:1";break;case"waiting":d="status:0";break;default:break}l({type:"api/fetch",payload:{apiname:"taoke/pid",params:{search:d,orderBy:"id",sortedBy:"desc"}}})},a.onSearch=function(e){var t=a.props.dispatch,l=a.state,d=l.search,n=l.params,r=(0,c.default)({},d,{status:e,taobao:e,jingdong:e,pinduoduo:e}),s=(0,c.default)({},n,{search:(0,D.getSearchParams)(r)});t({type:"api/fetch",payload:{apiname:"taoke/pid",params:s}})},a.showEditModal=function(e){a.setState({visible:!0,isEdit:!0,current:e})},a.showCreateModal=function(){a.setState({visible:!0,isEdit:!1,current:{}})},a.handleCancel=function(){a.setState({visible:!1})},a.handleSubmit=function(e){var t=a.props,l=t.dispatch,d=t.form,n=a.state.current.id;e.preventDefault(),d.validateFieldsAndScroll(function(e,t){e||(l({type:"api/submit",payload:{apiname:"taoke/pid",id:n,params:(0,c.default)({},t)},callback:function(e){1001===e.code?(void 0===n&&l({type:"api/fetch",payload:{apiname:"taoke/pid",params:{orderBy:"id",sortedBy:"desc"}}}),f.default.success(e.message)):f.default.error(e.message)}}),a.setState({visible:!1}))})},a}return(0,w.default)(t,e),(0,b.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch,t=this.state.params;e({type:"api/fetch",payload:{apiname:"taoke/pid",params:t},callback:function(e){1001===e.code?f.default.success(e.message):f.default.error(e.message)}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.api,l=t.loading,d=t.form.getFieldDecorator,c=this.state,f=c.selectedRows,g=c.visible,E=c.isEdit,v=c.current,b=void 0===v?{}:v,y=N.default.createElement(o.default,{onClick:this.handleMenuClick,selectedKeys:[]},N.default.createElement(o.default.Item,{key:"remove"},"\u5220\u9664"),N.default.createElement(o.default.Item,{key:"approval"},"\u6279\u91cf\u5ba1\u6279")),k=E?{okText:"\u7f16\u8f91",onOk:this.handleSubmit,onCancel:this.handleCancel}:{okText:"\u6dfb\u52a0",onOk:this.handleSubmit,onCancel:this.handleCancel},w=function(e){var t=e.title,a=e.value,l=e.bordered;return N.default.createElement("div",{className:V.default.headerInfo},N.default.createElement("span",null,t),N.default.createElement("p",null,a),l&&N.default.createElement("em",null))},S=N.default.createElement("div",null,N.default.createElement(M,{defaultValue:"all",onChange:this.filterStatus},N.default.createElement(F,{value:"all"},"\u5168\u90e8"),N.default.createElement(F,{value:"progress"},"\u4f7f\u7528\u4e2d"),N.default.createElement(F,{value:"waiting"},"\u672a\u4f7f\u7528")),N.default.createElement(P,{className:V.default.extraContentSearch,placeholder:"\u8bf7\u8f93\u5165",onSearch:this.onSearch})),x=function(){return E?N.default.createElement(I.default,null,N.default.createElement(B,(0,i.default)({label:"\u6dd8\u5b9d\u63a8\u5e7f\u4f4d"},e.formLayout),d("taobao",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6dd8\u5b9d\u63a8\u5e7f\u4f4d"}],initialValue:b.taobao})(N.default.createElement(C.default,{placeholder:"\u8bf7\u8f93\u5165"}))),N.default.createElement(B,(0,i.default)({label:"\u4eac\u4e1c\u63a8\u5e7f\u4f4d"},e.formLayout),d("jingdong",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4eac\u4e1c\u63a8\u5e7f\u4f4d"}],initialValue:b.jingdong})(N.default.createElement(C.default,{placeholder:"\u8bf7\u8f93\u5165"}))),N.default.createElement(B,(0,i.default)({label:"\u62fc\u591a\u591a\u63a8\u5e7f\u4f4d"},e.formLayout),d("pinduoduo",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u62fc\u591a\u591a\u63a8\u5e7f\u4f4d"}],initialValue:b.pinduoduo})(N.default.createElement(C.default,{placeholder:"\u8bf7\u8f93\u5165"})))):N.default.createElement(I.default,null,N.default.createElement(B,(0,i.default)({},e.formLayout,{label:"\u6dd8\u5b9d\u63a8\u5e7f\u4f4d"}),d("taobao",{rules:[{message:"\u8bf7\u8f93\u5165\u6dd8\u5b9d\u63a8\u5e7f\u4f4d\uff01",min:5}],initialValue:""})(N.default.createElement(A,{rows:4,placeholder:"\u8bf7\u8f93\u5165\u6dd8\u5b9d\u63a8\u5e7f\u4f4d\uff0c\u4e00\u884c\u4e00\u4e2a\uff0c\u62fc\u591a\u591a\u548c\u4eac\u4e1c\u63a8\u5e7f\u4f4d\u4f1a\u81ea\u52a8\u751f\u6210\uff0c\u65e0\u9700\u6dfb\u52a0"}))))};return N.default.createElement(T.default,null,N.default.createElement("div",{className:V.default.standardList},N.default.createElement(u.default,{bordered:!1},N.default.createElement(m.default,null,N.default.createElement(h.default,{sm:8,xs:24},N.default.createElement(w,{title:"\u5168\u90e8",value:"999",bordered:!0})),N.default.createElement(h.default,{sm:8,xs:24},N.default.createElement(w,{title:"\u5df2\u4f7f\u7528",value:"777",bordered:!0})),N.default.createElement(h.default,{sm:8,xs:24},N.default.createElement(w,{title:"\u672a\u4f7f\u7528",value:"222"})))),N.default.createElement(u.default,{bordered:!1,title:"\u63a8\u5e7f\u4f4d\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:S},N.default.createElement("div",{className:V.default.tableList},N.default.createElement("div",{className:V.default.tableListOperator},f.length>0&&N.default.createElement("span",null,N.default.createElement(s.default,null,"\u6279\u91cf\u64cd\u4f5c"),N.default.createElement(n.default,{overlay:y},N.default.createElement(s.default,null,"\u66f4\u591a\u64cd\u4f5c ",N.default.createElement(r.default,{type:"down"}))))),N.default.createElement(s.default,{type:"dashed",style:{width:"100%",marginBottom:8},icon:"plus",onClick:this.showCreateModal},"\u6279\u91cf\u6dfb\u52a0\u63a8\u5e7f\u4f4d"),N.default.createElement(j.default,{selectedRows:f,loading:l,data:a,rowKey:"id",columns:this.columns,expandedRowRender:this.expandedRowRender,onSelectRow:this.handleSelectRows,onChange:this.handleStandardTableChange})))),N.default.createElement(p.default,(0,i.default)({title:E?"\u7f16\u8f91\u63a8\u5e7f\u4f4d":"\u6dfb\u52a0\u63a8\u5e7f\u4f4d",className:V.default.standardListForm,width:640,bodyStyle:{padding:"28px 0 0"},destroyOnClose:!0,visible:g},k),x()))}}]),t}(N.PureComponent))||R)||R),G=K;t.default=G}}]);